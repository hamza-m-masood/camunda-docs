# Redirect to https
RewriteEngine on
RewriteCond %{SERVER_PORT} !^443$
RewriteRule (.*) https://%{SERVER_NAME}/$1 [R=301,L]

# Operate API Explorer migrated into versioned docs
RewriteRule ^api/operate/docs/(.*)$ /docs/apis-tools/operate-api/specifications/$1
# Tasklist API Explorer migrated into versioned docs
RewriteRule ^api/tasklist/docs/(.*)$ /docs/apis-tools/tasklist-api-rest/specifications/$1

# Remove updating-operate pages
RewriteRule ^docs/components/operate/userguide/updating-operate/?$ /docs/self-managed/operational-guides/update-guide/introduction/$1 [R=301,L]
RewriteRule ^docs/next/components/operate/userguide/updating-operate/?$ /docs/next/self-managed/operational-guides/update-guide/introduction/$1 [R=301,L]
RewriteRule ^docs/8.4/components/operate/userguide/updating-operate/?$ /docs/8.4/self-managed/operational-guides/update-guide/introduction/$1 [R=301,L]
RewriteRule ^docs/8.3/components/operate/userguide/updating-operate/?$ /docs/8.3/self-managed/operational-guides/update-guide/introduction/$1 [R=301,L]
RewriteRule ^docs/8.2/components/operate/userguide/updating-operate/?$ /docs/8.2/self-managed/operational-guides/update-guide/introduction/$1 [R=301,L]
RewriteRule ^docs/8.1/components/operate/userguide/updating-operate/?$ /docs/8.1/self-managed/operational-guides/update-guide/introduction/$1 [R=301,L]

RewriteRule ^docs/self-managed/operate-deployment/updating-operate/?$ /docs/self-managed/operational-guides/update-guide/introduction/$1 [R=301,L]
RewriteRule ^docs/next/self-managed/operate-deployment/updating-operate/?$ /docs/next/self-managed/operational-guides/update-guide/introduction/$1 [R=301,L]
RewriteRule ^docs/8.4/self-managed/operate-deployment/updating-operate/?$ /docs/8.4/self-managed/operational-guides/update-guide/introduction/$1 [R=301,L]
RewriteRule ^docs/8.3/self-managed/operate-deployment/updating-operate/?$ /docs/8.3/self-managed/operational-guides/update-guide/introduction/$1 [R=301,L]
RewriteRule ^docs/8.2/self-managed/operate-deployment/updating-operate/?$ /docs/8.2/guides/update-guide/introduction/$1 [R=301,L]
RewriteRule ^docs/8.1/self-managed/operate-deployment/updating-operate/?$ /docs/8.1/guides/update-guide/introduction/$1 [R=301,L]

# Consolidate SM troubleshooting pages (next only)
RewriteRule ^docs/next/self-managed/platform-deployment/troubleshooting/?$ /docs/next/self-managed/operational-guides/troubleshooting/$1 [R=301,L]

# Rename whitelist to allowlist
RewriteRule ^docs/components/console/manage-clusters/manage-ip-whitelists/?$ /docs/components/console/manage-clusters/manage-ip-allowlists/$1 [R=301,L]
RewriteRule ^docs/next/components/console/manage-clusters/manage-ip-whitelists/?$ /docs/next/components/console/manage-clusters/manage-ip-allowlists/$1 [R=301,L]
RewriteRule ^docs/8.4/components/console/manage-clusters/manage-ip-whitelists/?$ /docs/8.4/components/console/manage-clusters/manage-ip-allowlists/$1 [R=301,L]
RewriteRule ^docs/8.3/components/console/manage-clusters/manage-ip-whitelists/?$ /docs/8.3/components/console/manage-clusters/manage-ip-allowlists/$1 [R=301,L]
RewriteRule ^docs/8.2/components/console/manage-clusters/manage-ip-whitelists/?$ /docs/8.2/components/console/manage-clusters/manage-ip-allowlists/$1 [R=301,L]

# Move install-zeebe-exporters
RewriteRule ^docs/self-managed/platform-deployment/helm-kubernetes/guides/install-zeebe-exporters/?$ /docs/self-managed/zeebe-deployment/exporters/install-zeebe-exporters/$1 [R=301,L]
RewriteRule ^docs/next/self-managed/platform-deployment/helm-kubernetes/guides/install-zeebe-exporters/?$ /docs/next/self-managed/zeebe-deployment/exporters/install-zeebe-exporters/$1 [R=301,L]
RewriteRule ^docs/8.4/self-managed/platform-deployment/helm-kubernetes/guides/install-zeebe-exporters/?$ /docs/8.4/self-managed/zeebe-deployment/exporters/install-zeebe-exporters/$1 [R=301,L]
RewriteRule ^docs/8.3/self-managed/platform-deployment/helm-kubernetes/guides/install-zeebe-exporters/?$ /docs/8.3/self-managed/zeebe-deployment/exporters/install-zeebe-exporters/$1 [R=301,L]
RewriteRule ^docs/8.2/self-managed/platform-deployment/helm-kubernetes/guides/install-zeebe-exporters/?$ /docs/8.2/self-managed/zeebe-deployment/exporters/install-zeebe-exporters/$1 [R=301,L]
RewriteRule ^docs/8.1/self-managed/platform-deployment/helm-kubernetes/guides/install-zeebe-exporters/?$ /docs/8.1/self-managed/zeebe-deployment/exporters/install-zeebe-exporters/$1 [R=301,L]

# Rename Console API
RewriteRule ^docs/apis-tools/console-api/?$ /docs/apis-tools/administration-api/$1 [R=301,L]
RewriteRule ^docs/next/apis-tools/console-api/?$ /docs/next/apis-tools/administration-api/$1 [R=301,L]
RewriteRule ^docs/8.4/apis-tools/console-api/?$ /docs/8.4/apis-tools/administration-api/$1 [R=301,L]
RewriteRule ^docs/apis-tools/console-api/console-api-reference/?$ /docs/apis-tools/administration-api/administration-api-reference/$1 [R=301,L]
RewriteRule ^docs/next/apis-tools/console-api/console-api-reference/?$ /docs/next/apis-tools/administration-api/administration-api-reference/$1 [R=301,L]
RewriteRule ^docs/8.4/apis-tools/console-api/console-api-reference/?$ /docs/8.4/apis-tools/administration-api/administration-api-reference/$1 [R=301,L]
RewriteRule ^docs/8.3/apis-tools/console-api-reference/?$ /docs/8.3/apis-tools/administration-api-reference/$1 [R=301,L]
RewriteRule ^docs/8.2/apis-tools/console-api-reference/?$ /docs/8.2/apis-tools/administration-api-reference/$1 [R=301,L]
RewriteRule ^docs/8.1/apis-tools/console-api-reference/?$ /docs/8.1/apis-tools/administration-api-reference/$1 [R=301,L]

RewriteRule ^docs/apis-tools/console-api/authentication/?$ /docs/apis-tools/administration-api/authentication/$1 [R=301,L]
RewriteRule ^docs/next/apis-tools/console-api/authentication/?$ /docs/next/apis-tools/administration-api/authentication/$1 [R=301,L]
RewriteRule ^docs/8.4/apis-tools/console-api/authentication/?$ /docs/8.4/apis-tools/administration-api/authentication/$1 [R=301,L]

# Rename forms element library checkbox
RewriteRule ^docs/next/components/modeler/forms/form-element-library/forms-element-library-checklist/?$ /docs/next/components/modeler/forms/form-element-library/forms-element-library-checkbox-group/$1 [R=301,L]
RewriteRule ^docs/components/modeler/forms/form-element-library/forms-element-library-checklist/?$ /docs/components/modeler/forms/form-element-library/forms-element-library-checkbox-group/$1 [R=301,L]
RewriteRule ^docs/8.4/components/modeler/forms/form-element-library/forms-element-library-checklist/?$ /docs/8.4/components/modeler/forms/form-element-library/forms-element-library-checkbox-group/$1 [R=301,L]

# Remove Operate feedback page
RewriteRule ^docs/components/operate/userguide/operate-feedback-and-questions/?$ /contact/$1 [R=301,L]
RewriteRule ^docs/next/components/operate/userguide/operate-feedback-and-questions/?$ /contact/$1 [R=301,L]
RewriteRule ^docs/8.4/components/operate/userguide/operate-feedback-and-questions/?$ /contact/$1 [R=301,L]
RewriteRule ^docs/8.3/components/operate/userguide/operate-feedback-and-questions/?$ /contact/$1 [R=301,L]
RewriteRule ^docs/8.2/components/operate/userguide/operate-feedback-and-questions/?$ /contact/$1 [R=301,L]
RewriteRule ^docs/8.1/components/operate/userguide/operate-feedback-and-questions/?$ /contact/$1 [R=301,L]


# Redirect to Connectors overview upon deprecation of Power Automate Connector
RewriteRule ^docs/components/connectors/out-of-the-box-connectors/power-automate/?$ /docs/components/connectors/out-of-the-box-connectors/available-connectors-overview/ [R=301,L]
RewriteRule ^docs/next/components/connectors/out-of-the-box-connectors/power-automate/?$ /docs/next/components/connectors/out-of-the-box-connectors/available-connectors-overview/ [R=301,L]
RewriteRule ^docs/8.4/components/connectors/out-of-the-box-connectors/power-automate/?$ /docs/8.4/components/connectors/out-of-the-box-connectors/available-connectors-overview/ [R=301,L]
RewriteRule ^docs/8.3/components/connectors/out-of-the-box-connectors/power-automate/?$ /docs/8.3/components/connectors/out-of-the-box-connectors/available-connectors-overview/ [R=301,L]
RewriteRule ^docs/8.2/components/connectors/out-of-the-box-connectors/power-automate/?$ /docs/8.2/components/connectors/out-of-the-box-connectors/available-connectors-overview/ [R=301,L]
RewriteRule ^docs/8.1/components/connectors/out-of-the-box-connectors/power-automate/?$ /docs/8.1/components/connectors/out-of-the-box-connectors/available-connectors-overview/ [R=301,L]

# Disable directory listing and multi views
Options -Indexes -MultiViews

# For linking from our apps - redirect URLs with the current version to URLs with no version
RewriteRule ^docs/8.4/(.*)$ /docs/$1 [R=302,L]
RewriteRule ^optimize/3.12.0/(.*)$ /optimize/$1 [R=302,L]

# 8.4 content moves
RewriteRule ^docs/apis-tools/web-modeler-api/?$ /docs/apis-tools/web-modeler-api/overview/ [R=301,L]
RewriteRule ^optimize/apis-tools/optimize-api/optimize-api-authorization/(.*)$ /optimize/apis-tools/optimize-api/optimize-api-authentication/$1 [R=301,L]
RewriteRule ^docs/apis-tools/grpc/?$ /docs/apis-tools/zeebe-api/overview/ [R=301,L]
RewriteRule ^docs/apis-tools/console-api-reference/?$ /docs/apis-tools/console-api/console-api-reference/ [R=301,L]
RewriteRule ^optimize/components/userguide/process-analysis/outlier-analysis/?$ /optimize/components/userguide/process-analysis/task-analysis/ [R=301,L]
RewriteRule ^docs/self-managed/identity/troubleshooting/common-problems/?$ /docs/self-managed/identity/troubleshooting/troubleshoot-identity/ [R=301,L]
RewriteRule ^docs/components/operate/userguide/updating-operate-cloud/?$ /docs/self-managed/operate-deployment/updating-operate/ [R=301,L]

# Early access to alpha features
RewriteRule ^docs/reference/early-access/?$ /docs/reference/alpha-features/ [R=301,L]
RewriteRule ^docs/8.3/reference/early-access/?$ /docs/8.3/reference/alpha-features/ [R=301,L]
RewriteRule ^docs/8.2/reference/early-access/?$ /docs/8.2/reference/alpha-features/ [R=301,L]
RewriteRule ^docs/8.1/reference/early-access/?$ /docs/8.1/reference/alpha-features/ [R=301,L]

# 8.2 content moves: These were removed from latest version docs, so point them back to previous version for now. 
#   Remove them in the not-distant future.
RewriteRule ^docs/guides/update-guide/026-to-100/?$ /docs/8.2/guides/update-guide/026-to-100/ [R=301,L]
RewriteRule ^docs/guides/update-guide/100-to-110/?$ /docs/8.2/guides/update-guide/100-to-110/ [R=301,L]
RewriteRule ^docs/guides/update-guide/110-to-120/?$ /docs/8.2/guides/update-guide/110-to-120/ [R=301,L]
RewriteRule ^docs/guides/update-guide/120-to-130/?$ /docs/8.2/guides/update-guide/120-to-130/ [R=301,L]

# 8.3 content moves
RewriteRule ^docs/guides/update-guide/connectors/(.*)$ /docs/components/connectors/custom-built-connectors/update-guide/$1 [R=301,L]
RewriteRule ^docs/guides/update-guide/(.*)$ /docs/self-managed/operational-guides/update-guide/$1 [R=301,L]
RewriteRule ^docs/self-managed/backup-restore/(.*)$ /docs/self-managed/operational-guides/backup-restore/$1 [R=301,L]
RewriteRule ^docs/self-managed/troubleshooting/log-levels/(.*)$ /docs/self-managed/operational-guides/troubleshooting/log-levels$1 [R=301,L]

# Condense Connectors
RewriteRule ^docs/components/connectors/out-of-the-box-connectors/amazon-sns-inbound/(.*)$ /docs/components/connectors/out-of-the-box-connectors/amazon-sns/$1 [R=301,L]
RewriteRule ^docs/8.2/components/connectors/out-of-the-box-connectors/amazon-sns-inbound/(.*)$ /docs/8.2/components/connectors/out-of-the-box-connectors/amazon-sns/$1 [R=301,L]
RewriteRule ^docs/8.1/components/connectors/out-of-the-box-connectors/amazon-sns-inbound/(.*)$ /docs/8.1/components/connectors/out-of-the-box-connectors/amazon-sns/$1 [R=301,L]

RewriteRule ^docs/components/connectors/out-of-the-box-connectors/amazon-sqs-inbound/(.*)$ /docs/components/connectors/out-of-the-box-connectors/amazon-sqs/$1 [R=301,L]
RewriteRule ^docs/8.2/components/connectors/out-of-the-box-connectors/amazon-sqs-inbound/(.*)$ /docs/8.2/components/connectors/out-of-the-box-connectors/amazon-sqs/$1 [R=301,L]
RewriteRule ^docs/8.1/components/connectors/out-of-the-box-connectors/amazon-sqs-inbound/(.*)$ /docs/8.1/components/connectors/out-of-the-box-connectors/amazon-sqs/$1 [R=301,L]

RewriteRule ^docs/components/connectors/out-of-the-box-connectors/amazon-eventbridge-webhook/(.*)$ /docs/components/connectors/out-of-the-box-connectors/amazon-eventbridge/$1 [R=301,L]
RewriteRule ^docs/8.2/components/connectors/out-of-the-box-connectors/amazon-eventbridge-webhook/(.*)$ /docs/8.2/components/connectors/out-of-the-box-connectors/amazon-eventbridge/$1 [R=301,L]
RewriteRule ^docs/8.1/components/connectors/out-of-the-box-connectors/amazon-eventbridge-webhook/(.*)$ /docs/8.1/components/connectors/out-of-the-box-connectors/amazon-eventbridge/$1 [R=301,L]

RewriteRule ^docs/components/connectors/out-of-the-box-connectors/github-webhook/(.*)$ /docs/components/connectors/out-of-the-box-connectors/github/$1 [R=301,L]
RewriteRule ^docs/8.2/components/connectors/out-of-the-box-connectors/github-webhook/(.*)$ /docs/8.2/components/connectors/out-of-the-box-connectors/github/$1 [R=301,L]
RewriteRule ^docs/8.1/components/connectors/out-of-the-box-connectors/github-webhook/(.*)$ /docs/8.1/components/connectors/out-of-the-box-connectors/github/$1 [R=301,L]

RewriteRule ^docs/components/connectors/out-of-the-box-connectors/kafka-inbound/(.*)$ /docs/components/connectors/out-of-the-box-connectors/kafka/$1 [R=301,L]
RewriteRule ^docs/8.2/components/connectors/out-of-the-box-connectors/kafka-inbound/(.*)$ /docs/8.2/components/connectors/out-of-the-box-connectors/kafka/$1 [R=301,L]
RewriteRule ^docs/8.1/components/connectors/out-of-the-box-connectors/kafka-inbound/(.*)$ /docs/8.1/components/connectors/out-of-the-box-connectors/kafka/$1 [R=301,L]

RewriteRule ^docs/components/connectors/out-of-the-box-connectors/rabbitmq-inbound/(.*)$ /docs/components/connectors/out-of-the-box-connectors/rabbitmq/$1 [R=301,L]
RewriteRule ^docs/8.2/components/connectors/out-of-the-box-connectors/rabbitmq-inbound/(.*)$ /docs/8.2/components/connectors/out-of-the-box-connectors/rabbitmq/$1 [R=301,L]
RewriteRule ^docs/8.1/components/connectors/out-of-the-box-connectors/rabbitmq-inbound/(.*)$ /docs/8.1/components/connectors/out-of-the-box-connectors/rabbitmq/$1 [R=301,L]

RewriteRule ^docs/components/connectors/out-of-the-box-connectors/slack-inbound/(.*)$ /docs/components/connectors/out-of-the-box-connectors/slack/$1 [R=301,L]
RewriteRule ^docs/8.2/components/connectors/out-of-the-box-connectors/slack-inbound/(.*)$ /docs/8.2/components/connectors/out-of-the-box-connectors/slack/$1 [R=301,L]
RewriteRule ^docs/8.1/components/connectors/out-of-the-box-connectors/slack-inbound/(.*)$ /docs/8.1/components/connectors/out-of-the-box-connectors/slack/$1 [R=301,L]

RewriteRule ^docs/components/connectors/out-of-the-box-connectors/twilio-webhook/(.*)$ /docs/components/connectors/out-of-the-box-connectors/twilio/$1 [R=301,L]
RewriteRule ^docs/8.2/components/connectors/out-of-the-box-connectors/twilio-webhook/(.*)$ /docs/8.2/components/connectors/out-of-the-box-connectors/twilio/$1 [R=301,L]
RewriteRule ^docs/8.1/components/connectors/out-of-the-box-connectors/twilio-webhook/(.*)$ /docs/8.1/components/connectors/out-of-the-box-connectors/twilio/$1 [R=301,L]

# Remove public API page
RewriteRule ^docs/apis-tools/public-api/(.*)$ /docs/apis-tools/working-with-apis-tools/$1 [R=301,L]

# Restructure Identity Concepts
RewriteRule ^docs/next/self-managed/concepts/access-control/apis/(.*)$ /docs/next/self-managed/identity/user-guide/additional-features/adding-an-api/$1 [R=301,L]
RewriteRule ^docs/self-managed/concepts/access-control/apis/(.*)$ /docs/self-managed/identity/user-guide/additional-features/adding-an-api/$1 [R=301,L]

RewriteRule ^docs/next/self-managed/concepts/access-control/groups/?(.*)$ /docs/next/self-managed/identity/user-guide/groups/create-group/$1 [R=301,L]
RewriteRule ^docs/self-managed/concepts/access-control/groups/?(.*)$ /docs/self-managed/identity/user-guide/groups/create-group/$1 [R=301,L]

RewriteRule ^docs/next/self-managed/concepts/access-control/roles/?(.*)$ /docs/next/self-managed/identity/user-guide/roles/add-assign-role/$1 [R=301,L]
RewriteRule ^docs/self-managed/concepts/access-control/roles/?(.*)$ /docs/self-managed/identity/user-guide/roles/add-assign-role/$1 [R=301,L]

RewriteRule ^docs/next/self-managed/concepts/access-control/users/?(.*)$ /docs/next/self-managed/identity/user-guide/roles/add-assign-role/$1 [R=301,L]
RewriteRule ^docs/self-managed/concepts/access-control/users/?(.*)$ /docs/self-managed/identity/user-guide/roles/add-assign-role/$1 [R=301,L]

RewriteRule ^docs/next/self-managed/concepts/authentication/m2m-tokens/(.*)$ /docs/next/self-managed/identity/user-guide/authorizations/generating-m2m-tokens/$1 [R=301,L]
RewriteRule ^docs/self-managed/concepts/authentication/m2m-tokens/(.*)$ /docs/self-managed/identity/user-guide/authorizations/generating-m2m-tokens/$1 [R=301,L]

RewriteRule ^docs/next/self-managed/concepts/access-control/permissions/(.*)$ /docs/next/self-managed/identity/user-guide/roles/add-assign-permission/$1 [R=301,L]
RewriteRule ^docs/self-managed/concepts/access-control/permissions/(.*)$ /docs/self-managed/identity/user-guide/roles/add-assign-permission/$1 [R=301,L]

# Remove feedback & support page
RewriteRule ^docs/components/console/console-troubleshooting/feedback-and-support/(.*)$ /contact/$1 [R=301,L]

# Branding redirects
RewriteRule ^docs/next/components/connectors/out-of-the-box-connectors/aws-dynamodb/(.*)$ /docs/next/components/connectors/out-of-the-box-connectors/amazon-dynamodb/$1 [R=301,L]
RewriteRule ^docs/components/connectors/out-of-the-box-connectors/aws-dynamodb/(.*)$ /docs/components/connectors/out-of-the-box-connectors/amazon-dynamodb/$1 [R=301,L]
RewriteRule ^docs/8.2/components/connectors/out-of-the-box-connectors/aws-dynamodb/(.*)$ /docs/8.2/components/connectors/out-of-the-box-connectors/amazon-dynamodb/$1 [R=301,L]
RewriteRule ^docs/8.1/components/connectors/out-of-the-box-connectors/aws-dynamodb/(.*)$ /docs/8.1/components/connectors/out-of-the-box-connectors/amazon-dynamodb/$1 [R=301,L]

RewriteRule ^docs/next/components/connectors/out-of-the-box-connectors/aws-eventbridge/(.*)$ /docs/next/components/connectors/out-of-the-box-connectors/amazon-eventbridge/$1 [R=301,L]
RewriteRule ^docs/components/connectors/out-of-the-box-connectors/aws-eventbridge/(.*)$ /docs/components/connectors/out-of-the-box-connectors/amazon-eventbridge/$1 [R=301,L]
RewriteRule ^docs/8.2/components/connectors/out-of-the-box-connectors/aws-eventbridge/(.*)$ /docs/8.2/components/connectors/out-of-the-box-connectors/amazon-eventbridge/$1 [R=301,L]
RewriteRule ^docs/8.1/components/connectors/out-of-the-box-connectors/aws-eventbridge/(.*)$ /docs/8.1/components/connectors/out-of-the-box-connectors/amazon-eventbridge/$1 [R=301,L]

RewriteRule ^docs/next/components/connectors/out-of-the-box-connectors/aws-eventbridge-webhook/(.*)$ /docs/next/components/connectors/out-of-the-box-connectors/amazon-eventbridge-webhook/$1 [R=301,L]
RewriteRule ^docs/components/connectors/out-of-the-box-connectors/aws-eventbridge-webhook/(.*)$ /docs/components/connectors/out-of-the-box-connectors/amazon-eventbridge-webhook/$1 [R=301,L]
RewriteRule ^docs/8.2/components/connectors/out-of-the-box-connectors/aws-eventbridge-webhook/(.*)$ /docs/8.2/components/connectors/out-of-the-box-connectors/amazon-eventbridge-webhook/$1 [R=301,L]
RewriteRule ^docs/8.1/components/connectors/out-of-the-box-connectors/aws-eventbridge-webhook/(.*)$ /docs/8.1/components/connectors/out-of-the-box-connectors/amazon-eventbridge-webhook/$1 [R=301,L]

RewriteRule ^docs/next/components/connectors/out-of-the-box-connectors/aws-sns/(.*)$ /docs/next/components/connectors/out-of-the-box-connectors/amazon-sns/$1 [R=301,L]
RewriteRule ^docs/components/connectors/out-of-the-box-connectors/aws-sns/(.*)$ /docs/components/connectors/out-of-the-box-connectors/amazon-sns/$1 [R=301,L]
RewriteRule ^docs/8.2/components/connectors/out-of-the-box-connectors/aws-sns/(.*)$ /docs/8.2/components/connectors/out-of-the-box-connectors/amazon-sns/$1 [R=301,L]
RewriteRule ^docs/8.1/components/connectors/out-of-the-box-connectors/aws-sns/(.*)$ /docs/8.1/components/connectors/out-of-the-box-connectors/amazon-sns/$1 [R=301,L]

RewriteRule ^docs/next/components/connectors/out-of-the-box-connectors/aws-sns-inbound/(.*)$ /docs/next/components/connectors/out-of-the-box-connectors/amazon-sns-inbound/$1 [R=301,L]
RewriteRule ^docs/components/connectors/out-of-the-box-connectors/aws-sns-inbound/(.*)$ /docs/components/connectors/out-of-the-box-connectors/amazon-sns-inbound/$1 [R=301,L]
RewriteRule ^docs/8.2/components/connectors/out-of-the-box-connectors/aws-sns-inbound/(.*)$ /docs/8.2/components/connectors/out-of-the-box-connectors/amazon-sns-inbound/$1 [R=301,L]
RewriteRule ^docs/8.1/components/connectors/out-of-the-box-connectors/aws-sns-inbound/(.*)$ /docs/8.1/components/connectors/out-of-the-box-connectors/amazon-sns-inbound/$1 [R=301,L]

RewriteRule ^docs/next/components/connectors/out-of-the-box-connectors/aws-sqs/(.*)$ /docs/next/components/connectors/out-of-the-box-connectors/amazon-sqs/$1 [R=301,L]
RewriteRule ^docs/components/connectors/out-of-the-box-connectors/aws-sqs/(.*)$ /docs/components/connectors/out-of-the-box-connectors/amazon-sqs/$1 [R=301,L]
RewriteRule ^docs/8.2/components/connectors/out-of-the-box-connectors/aws-sqs/(.*)$ /docs/8.2/components/connectors/out-of-the-box-connectors/amazon-sqs/$1 [R=301,L]
RewriteRule ^docs/8.1/components/connectors/out-of-the-box-connectors/aws-sqs/(.*)$ /docs/8.1/components/connectors/out-of-the-box-connectors/amazon-sqs/$1 [R=301,L]

RewriteRule ^docs/next/components/connectors/out-of-the-box-connectors/aws-sqs-inbound/(.*)$ /docs/next/components/connectors/out-of-the-box-connectors/amazon-sqs-inbound/$1 [R=301,L]
RewriteRule ^docs/components/connectors/out-of-the-box-connectors/aws-sqs-inbound/(.*)$ /docs/components/connectors/out-of-the-box-connectors/amazon-sqs-inbound/$1 [R=301,L]
RewriteRule ^docs/8.2/components/connectors/out-of-the-box-connectors/aws-sqs-inbound/(.*)$ /docs/8.2/components/connectors/out-of-the-box-connectors/amazon-sqs-inbound/$1 [R=301,L]
RewriteRule ^docs/8.1/components/connectors/out-of-the-box-connectors/aws-sqs-inbound/(.*)$ /docs/8.1/components/connectors/out-of-the-box-connectors/amazon-sqs-inbound/$1 [R=301,L]

# Remove orphaned Tasklist page
RewriteRule ^docs/next/self-managed/tasklist-deployment/tasklist-api/(.*)$ /docs/next/apis-tools/tasklist-api/tasklist-api-overview/$1 [R=301,L]
RewriteRule ^docs/self-managed/tasklist-deployment/tasklist-api/(.*)$ /docs/apis-tools/tasklist-api/tasklist-api-overview/$1 [R=301,L]
RewriteRule ^docs/8.2/self-managed/tasklist-deployment/tasklist-api/(.*)$ /docs/8.2/apis-tools/tasklist-api/tasklist-api-overview/$1 [R=301,L]

# Rename Modeler Camunda 8
RewriteRule ^docs/next/components/modeler/desktop-modeler/connect-to-camunda-platform-8/(.*)$ /docs/next/components/modeler/desktop-modeler/connect-to-camunda-8/$1 [R=301,L]
RewriteRule ^docs/components/modeler/desktop-modeler/connect-to-camunda-platform-8/(.*)$ /docs/components/modeler/desktop-modeler/connect-to-camunda-8/$1 [R=301,L]
RewriteRule ^docs/8.2/components/modeler/desktop-modeler/connect-to-camunda-platform-8/(.*)$ /docs/8.2/components/modeler/desktop-modeler/connect-to-camunda-8/$1 [R=301,L]
RewriteRule ^docs/8.1/components/modeler/desktop-modeler/connect-to-camunda-platform-8/(.*)$ /docs/8.1/components/modeler/desktop-modeler/connect-to-camunda-8/$1 [R=301,L]

# Rename Concepts Camunda 8
RewriteRule ^docs/next/components/concepts/what-is-camunda-platform-8/(.*)$ /docs/next/components/concepts/what-is-camunda-8/$1 [R=301,L]
RewriteRule ^docs/components/concepts/what-is-camunda-platform-8/(.*)$ /docs/components/concepts/what-is-camunda-8/$1 [R=301,L]
RewriteRule ^docs/8.2/components/concepts/what-is-camunda-platform-8/(.*)$ /docs/8.2/components/concepts/what-is-camunda-8/$1 [R=301,L]
RewriteRule ^docs/8.1/components/concepts/what-is-camunda-platform-8/(.*)$ /docs/8.1/components/concepts/what-is-camunda-8/$1 [R=301,L]

# Renaming Guides
RewriteRule ^docs/guides/migrating-from-camunda-platform-7(.*)$ /docs/guides/migrating-from-camunda-7$1 [R=301,L]
RewriteRule ^docs/next/guides/migrating-from-camunda-platform-7(.*)$ /docs/guides/migrating-from-camunda-7$1 [R=301,L]
RewriteRule ^docs/8.2/guides/migrating-from-camunda-platform-7(.*)$ /docs/guides/migrating-from-camunda-7$1 [R=301,L]
RewriteRule ^docs/8.1/guides/migrating-from-camunda-platform-7(.*)$ /docs/guides/migrating-from-camunda-7$1 [R=301,L]

# Redirect pages - https://httpd.apache.org/docs/current/mod/mod_rewrite.html#rewriterule

# rename Professional Plan to Starter Plan
RewriteRule ^docs/next/components/console/manage-plan/upgrade-to-professional-plan/(.*)$ /docs/next/components/console/manage-plan/upgrade-to-starter-plan/$1 [R=301,L]
RewriteRule ^docs/components/console/manage-plan/upgrade-to-professional-plan/(.*)$ /docs/components/console/manage-plan/upgrade-to-starter-plan/$1 [R=301,L]
RewriteRule ^docs/8.2/components/console/manage-plan/upgrade-to-professional-plan/(.*)$ /docs/8.2/components/console/manage-plan/upgrade-to-starter-plan/$1 [R=301,L]

RewriteRule ^docs/next/components/console/manage-plan/cancel-professional-subscription/(.*)$ /docs/next/components/console/manage-plan/cancel-starter-subscription/$1 [R=301,L]
RewriteRule ^docs/components/console/manage-plan/cancel-professional-subscription/(.*)$ /docs/components/console/manage-plan/cancel-starter-subscription/$1 [R=301,L]
RewriteRule ^docs/8.2/components/console/manage-plan/cancel-professional-subscription/(.*)$ /docs/8.2/components/console/manage-plan/cancel-starter-subscription/$1 [R=301,L]

# rename Desktop Modeler reference to Camunda Cloud
RewriteRule ^docs/next/components/modeler/desktop-modeler/connect-to-camunda-cloud/(.*)$ /docs/next/components/modeler/desktop-modeler/connect-to-camunda-platform-8/$1 [R=301,L]
RewriteRule ^docs/components/modeler/desktop-modeler/connect-to-camunda-cloud/(.*)$ /docs/components/modeler/desktop-modeler/connect-to-camunda-platform-8/$1 [R=301,L]
RewriteRule ^docs/8.2/components/modeler/desktop-modeler/connect-to-camunda-cloud/(.*)$ /docs/8.2/components/modeler/desktop-modeler/connect-to-camunda-platform-8/$1 [R=301,L]
RewriteRule ^docs/8.1/components/modeler/desktop-modeler/connect-to-camunda-cloud/(.*)$ /docs/8.1/components/modeler/desktop-modeler/connect-to-camunda-platform-8/$1 [R=301,L]

# API Endpoints to API Orchestration
RewriteRule ^docs/guides/orchestrate-api-endpoints(.*)$ /docs/guides/orchestrate-apis$1 [R=301,L]
RewriteRule ^docs/8.2/guides/orchestrate-api-endpoints(.*)$ /docs/8.2/guides/orchestrate-apis$1 [R=301,L]
RewriteRule ^docs/8.1/guides/orchestrate-api-endpoints(.*)$ /docs/8.1/guides/orchestrate-apis$1 [R=301,L]

# Remove OSS section
RewriteRule ^docs/components/zeebe/open-source(.*)$ /docs/components/zeebe/zeebe-overview/ [R=301,L]

# interceptors
RewriteRule ^docs/self-managed/zeebe-deployment/interceptors(.*)$ /docs/self-managed/zeebe-deployment/zeebe-gateway/interceptors/$1 [R=301,L]

# Console restructure
RewriteRule ^docs/components/console/manage-organization/update-billing-reservations(.*)$ /docs/components/console/manage-plan/update-billing-reservations/$1 [R=301,L]
RewriteRule ^docs/components/console/manage-organization/update-creditcard(.*)$ /docs/components/console/manage-plan/update-creditcard/$1 [R=301,L]

# Connectors TEMPLATE removal
RewriteRule ^docs/components/connectors/out-of-the-box-connectors/template/(.*)$ /docs/components/connectors/out-of-the-box-connectors/available-connectors-overview/$1 [R=301,L]

# Modeler start instance and deploy page renaming and merging
RewriteRule ^docs/components/modeler/web-modeler/start-instance/?$ /docs/components/modeler/web-modeler/run-or-publish-your-process/ [R=301,L]
RewriteRule ^docs/components/modeler/web-modeler/save-and-deploy/?$ /docs/components/modeler/web-modeler/run-or-publish-your-process/#deploy-a-process [R=301,L,NE]
RewriteRule ^docs/next/components/modeler/web-modeler/start-instance/?$ /docs/next/components/modeler/web-modeler/run-or-publish-your-process/ [R=301,L]
RewriteRule ^docs/next/components/modeler/web-modeler/save-and-deploy/?$ /docs/next/components/modeler/web-modeler/run-or-publish-your-process/#deploy-a-process [R=301,L,NE]

# Modeler start instance and deploy page renaming and merging 8.2
RewriteRule ^docs/8.2/components/modeler/web-modeler/start-instance/?$ /docs/8.2/components/modeler/web-modeler/run-or-publish-your-process/ [R=301,L]
RewriteRule ^docs/8.2/components/modeler/web-modeler/save-and-deploy/?$ /docs/8.2/components/modeler/web-modeler/run-or-publish-your-process/#deploy-a-process [R=301,L,NE]

# deduplication of Web Modeler API
RewriteRule ^docs/next/self-managed/modeler/web-modeler/api/(.*)$ /docs/next/apis-tools/web-modeler-api/index/$1 [R=301,L]
RewriteRule ^docs/self-managed/modeler/web-modeler/api/(.*)$ /docs/apis-tools/web-modeler-api/index/$1 [R=301,L]
RewriteRule ^docs/8.2/self-managed/modeler/web-modeler/api/(.*)$ /docs/8.2/apis-tools/web-modeler-api/index/$1 [R=301,L]

# connectors restructure /next/
RewriteRule ^docs/next/components/connectors/out-of-the-box-connectors/rest/(.*)$ /docs/next/components/connectors/protocol/rest/$1 [R=301,L]
RewriteRule ^docs/next/components/connectors/out-of-the-box-connectors/graphql/(.*)$ /docs/next/components/connectors/protocol/graphql/$1 [R=301,L]
RewriteRule ^docs/next/components/connectors/out-of-the-box-connectors/http-webhook/(.*)$ /docs/next/components/connectors/protocol/http-webhook/$1 [R=301,L]
RewriteRule ^docs/next/components/modeler/web-modeler/advanced-modeling/manage-connector-templates/(.*)$ /docs/next/components/connectors/manage-connector-templates/$1 [R=301,L]

# connectors restructure 8.1-8.2
RewriteRule ^docs/8.1/components/connectors/out-of-the-box-connectors/rest/(.*)$ /docs/8.1/components/connectors/protocol/rest/$1 [R=301,L]
RewriteRule ^docs/8.1/components/connectors/out-of-the-box-connectors/graphql/(.*)$ /docs/8.1/components/connectors/protocol/graphql/$1 [R=301,L]
RewriteRule ^docs/8.1/components/connectors/out-of-the-box-connectors/http-webhook/(.*)$ /docs/8.1/components/connectors/protocol/http-webhook/$1 [R=301,L]
RewriteRule ^docs/8.1/components/modeler/web-modeler/advanced-modeling/manage-connector-templates/(.*)$ /docs/8.1/components/connectors/manage-connector-templates/$1 [R=301,L]
RewriteRule ^docs/8.2/components/connectors/out-of-the-box-connectors/rest/(.*)$ /docs/8.2/components/connectors/protocol/rest/$1 [R=301,L]
RewriteRule ^docs/8.2/components/connectors/out-of-the-box-connectors/graphql/(.*)$ /docs/8.2/components/connectors/protocol/graphql/$1 [R=301,L]
RewriteRule ^docs/8.2/components/connectors/out-of-the-box-connectors/http-webhook/(.*)$ /docs/8.2/components/connectors/protocol/http-webhook/$1 [R=301,L]
RewriteRule ^docs/8.2/components/modeler/web-modeler/advanced-modeling/manage-connector-templates/(.*)$ /docs/8.2/components/connectors/manage-connector-templates/$1 [R=301,L]
RewriteRule ^docs/components/connectors/out-of-the-box-connectors/rest/(.*)$ /docs/components/connectors/protocol/rest/$1 [R=301,L]
RewriteRule ^docs/components/connectors/out-of-the-box-connectors/graphql/(.*)$ /docs/components/connectors/protocol/graphql/$1 [R=301,L]
RewriteRule ^docs/components/connectors/out-of-the-box-connectors/http-webhook/(.*)$ /docs/components/connectors/protocol/http-webhook/$1 [R=301,L]
RewriteRule ^docs/components/modeler/web-modeler/advanced-modeling/manage-connector-templates/(.*)$ /docs/components/connectors/manage-connector-templates/$1 [R=301,L]

# identity restructure 8.2
RewriteRule ^docs/self-managed/identity/user-guide/configure-logging/(.*)$ /docs/self-managed/identity/user-guide/configuration/configure-logging/$1 [R=301,L]
RewriteRule ^docs/self-managed/identity/user-guide/configuration/configure-external-identity-provider-and-logging/(.*)$ /docs/self-managed/identity/user-guide/configuration/configure-external-identity-provider/$1 [R=301,L]
RewriteRule ^docs/self-managed/identity/user-guide/configure-external-identity-provider-and-logging/(.*)$ /docs/self-managed/identity/user-guide/configuration/configure-external-identity-provider/$1 [R=301,L]
RewriteRule ^docs/self-managed/identity/user-guide/configure-external-identity-provider/(.*)$ /docs/self-managed/identity/user-guide/configuration/configure-external-identity-provider/$1 [R=301,L]
RewriteRule ^docs/self-managed/identity/user-guide/connect-to-an-existing-keycloak/(.*)$ /docs/self-managed/identity/user-guide/configuration/connect-to-an-existing-keycloak/$1 [R=301,L]
RewriteRule ^docs/self-managed/identity/user-guide/managing-user-access/(.*)$ /docs/self-managed/identity/user-guide/authorizations/managing-user-access/$1 [R=301,L]
RewriteRule ^docs/self-managed/identity/user-guide/generating-m2m-tokens/(.*)$ /docs/self-managed/identity/user-guide/authorizations/generating-m2m-tokens/$1 [R=301,L]
RewriteRule ^docs/self-managed/identity/user-guide/making-identity-production-ready/(.*)$ /docs/self-managed/identity/user-guide/configuration/making-identity-production-ready/$1 [R=301,L]
RewriteRule ^docs/self-managed/identity/user-guide/assigning-a-role-to-a-user/(.*)$ /docs/self-managed/identity/user-guide/roles/add-assign-role/$1 [R=301,L]
RewriteRule ^docs/self-managed/identity/user-guide/assigning-a-permission-to-a-role/(.*)$ /docs/self-managed/identity/user-guide/roles/add-assign-permission/$1 [R=301,L]
RewriteRule ^docs/self-managed/identity/user-guide/adding-a-role/(.*)$ /docs/self-managed/identity/user-guide/roles/add-assign-role/$1 [R=301,L]
RewriteRule ^docs/self-managed/identity/user-guide/assigning-a-permission-to-an-application/?(.*)$ /docs/self-managed/identity/user-guide/additional-features/incorporate-applications/$1 [R=301,L]
RewriteRule ^docs/self-managed/identity/user-guide/adding-a-permission/(.*)$ /docs/self-managed/identity/user-guide/roles/add-assign-permission/$1 [R=301,L]
RewriteRule ^docs/self-managed/identity/user-guide/adding-an-api/(.*)$ /docs/self-managed/identity/user-guide/additional-features/adding-an-api/$1 [R=301,L]
RewriteRule ^docs/self-managed/identity/user-guide/adding-an-application/(.*)$ /docs/self-managed/identity/user-guide/additional-features/incorporate-applications/$1 [R=301,L]
RewriteRule ^docs/self-managed/identity/user-guide/groups/creating-a-group/(.*)$ /docs/self-managed/identity/user-guide/groups/create-group/$1 [R=301,L]
RewriteRule ^docs/self-managed/identity/user-guide/groups/assigning-users-to-a-group/(.*)$ /docs/self-managed/identity/user-guide/groups/assign-users-roles-to-group/$1 [R=301,L]
RewriteRule ^docs/self-managed/identity/user-guide/groups/assigning-roles-to-a-group/(.*)$ /docs/self-managed/identity/user-guide/groups/assign-users-roles-to-group/$1 [R=301,L]

RewriteRule ^docs/8.2/self-managed/identity/user-guide/connect-to-an-existing-keycloak/(.*)$ /docs/8.2/self-managed/identity/user-guide/configuration/connect-to-an-existing-keycloak/$1 [R=301,L]
RewriteRule ^docs/8.2/self-managed/identity/user-guide/managing-user-access/(.*)$ /docs/8.2/self-managed/identity/user-guide/authorizations/managing-user-access/$1 [R=301,L]
RewriteRule ^docs/8.2/self-managed/identity/user-guide/generating-m2m-tokens/(.*)$ /docs/8.2/self-managed/identity/user-guide/authorizations/generating-m2m-tokens/$1 [R=301,L]
RewriteRule ^docs/8.2/self-managed/identity/user-guide/making-identity-production-ready/(.*)$ /docs/8.2/self-managed/identity/user-guide/configuration/making-identity-production-ready/$1 [R=301,L]
RewriteRule ^docs/8.2/self-managed/identity/user-guide/configure-logging/(.*)$ /docs/8.2/self-managed/identity/user-guide/configuration/configure-logging/$1 [R=301,L]
RewriteRule ^docs/8.2/self-managed/identity/user-guide/configuration/configure-external-identity-provider-and-logging/(.*)$ /docs/8.2/self-managed/identity/user-guide/configuration/configure-external-identity-provider/$1 [R=301,L]
RewriteRule ^docs/8.2/self-managed/identity/user-guide/configure-external-identity-provider-and-logging/(.*)$ /docs/8.2/self-managed/identity/user-guide/configuration/configure-external-identity-provider/$1 [R=301,L]
RewriteRule ^docs/8.2/self-managed/identity/user-guide/configure-external-identity-provider/(.*)$ /docs/8.2/self-managed/identity/user-guide/configuration/configure-external-identity-provider/$1 [R=301,L]
RewriteRule ^docs/8.2/self-managed/identity/user-guide/assigning-a-role-to-a-user/(.*)$ /docs/8.2/self-managed/identity/user-guide/roles/add-assign-role/$1 [R=301,L]
RewriteRule ^docs/8.2/self-managed/identity/user-guide/assigning-a-permission-to-a-role/(.*)$ /docs/8.2/self-managed/identity/user-guide/roles/add-assign-permission/$1 [R=301,L]
RewriteRule ^docs/8.2/self-managed/identity/user-guide/adding-a-role/(.*)$ /docs/8.2/self-managed/identity/user-guide/roles/add-assign-role/$1 [R=301,L]
RewriteRule ^docs/8.2/self-managed/identity/user-guide/assigning-a-permission-to-an-application/?(.*)$ /docs/8.2/self-managed/identity/user-guide/additional-features/incorporate-applications/$1 [R=301,L]
RewriteRule ^docs/8.2/self-managed/identity/user-guide/adding-a-permission/(.*)$ /docs/8.2/self-managed/identity/user-guide/roles/add-assign-permission/$1 [R=301,L]
RewriteRule ^docs/8.2/self-managed/identity/user-guide/adding-an-api/(.*)$ /docs/8.2/self-managed/identity/user-guide/additional-features/adding-an-api/$1 [R=301,L]
RewriteRule ^docs/8.2/self-managed/identity/user-guide/adding-an-application/(.*)$ /docs/8.2/self-managed/identity/user-guide/additional-features/incorporate-applications/$1 [R=301,L]
RewriteRule ^docs/8.2/self-managed/identity/user-guide/groups/creating-a-group/(.*)$ /docs/8.2/self-managed/identity/user-guide/groups/create-group/$1 [R=301,L]
RewriteRule ^docs/8.2/self-managed/identity/user-guide/groups/assigning-users-to-a-group/(.*)$ /docs/8.2/self-managed/identity/user-guide/groups/assign-users-roles-to-group/$1 [R=301,L]
RewriteRule ^docs/8.2/self-managed/identity/user-guide/groups/assigning-roles-to-a-group/(.*)$ /docs/8.2/self-managed/identity/user-guide/groups/assign-users-roles-to-group/$1 [R=301,L]

# consolidation of Zeebe Gateway configuration
RewriteRule ^docs/next/self-managed/zeebe-gateway-deployment/zeebe-gateway/(.*)$ /docs/next/self-managed/zeebe-deployment/zeebe-gateway/overview/$1 [R=301,L]
RewriteRule ^docs/self-managed/zeebe-gateway-deployment/zeebe-gateway/(.*)$ /docs/self-managed/zeebe-deployment/zeebe-gateway/overview/$1 [R=301,L]
RewriteRule ^docs/8.2/self-managed/zeebe-gateway-deployment/zeebe-gateway/(.*)$ /docs/8.2/self-managed/zeebe-deployment/zeebe-gateway/overview/$1 [R=301,L]

# identity restructure
RewriteRule ^docs/next/self-managed/identity/user-guide/connect-to-an-existing-keycloak/(.*)$ /docs/next/self-managed/identity/user-guide/configuration/connect-to-an-existing-keycloak/$1 [R=301,L]
RewriteRule ^docs/next/self-managed/identity/user-guide/managing-user-access/(.*)$ /docs/next/self-managed/identity/user-guide/authorizations/managing-user-access/$1 [R=301,L]
RewriteRule ^docs/next/self-managed/identity/user-guide/generating-m2m-tokens/(.*)$ /docs/next/self-managed/identity/user-guide/authorizations/generating-m2m-tokens/$1 [R=301,L]
RewriteRule ^docs/next/self-managed/identity/user-guide/making-identity-production-ready/(.*)$ /docs/next/self-managed/identity/user-guide/configuration/making-identity-production-ready/$1 [R=301,L]
RewriteRule ^docs/next/self-managed/identity/user-guide/configure-logging/(.*)$ /docs/next/self-managed/identity/user-guide/configuration/configure-logging/$1 [R=301,L]
RewriteRule ^docs/next/self-managed/identity/user-guide/configuration/configure-external-identity-provider-and-logging/(.*)$ /docs/next/self-managed/identity/user-guide/configuration/configure-external-identity-provider/$1 [R=301,L]
RewriteRule ^docs/next/self-managed/identity/user-guide/configure-external-identity-provider-and-logging/(.*)$ /docs/next/self-managed/identity/user-guide/configuration/configure-external-identity-provider/$1 [R=301,L]
RewriteRule ^docs/next/self-managed/identity/user-guide/configure-external-identity-provider/(.*)$ /docs/next/self-managed/identity/user-guide/configuration/configure-external-identity-provider/$1 [R=301,L]
RewriteRule ^docs/next/self-managed/identity/user-guide/assigning-a-role-to-a-user/(.*)$ /docs/next/self-managed/identity/user-guide/roles/add-assign-role/$1 [R=301,L]
RewriteRule ^docs/next/self-managed/identity/user-guide/assigning-a-permission-to-a-role/(.*)$ /docs/next/self-managed/identity/user-guide/roles/add-assign-permission/$1 [R=301,L]
RewriteRule ^docs/next/self-managed/identity/user-guide/adding-a-role/(.*)$ /docs/next/self-managed/identity/user-guide/roles/add-assign-role/$1 [R=301,L]
RewriteRule ^docs/next/self-managed/identity/user-guide/assigning-a-permission-to-an-application/?(.*)$ /docs/next/self-managed/identity/user-guide/additional-features/incorporate-applications/$1 [R=301,L]
RewriteRule ^docs/next/self-managed/identity/user-guide/adding-a-permission/(.*)$ /docs/next/self-managed/identity/user-guide/roles/add-assign-permission/$1 [R=301,L]
RewriteRule ^docs/next/self-managed/identity/user-guide/adding-an-api/(.*)$ /docs/next/self-managed/identity/user-guide/additional-features/adding-an-api/$1 [R=301,L]
RewriteRule ^docs/next/self-managed/identity/user-guide/adding-an-application/(.*)$ /docs/next/self-managed/identity/user-guide/additional-features/incorporate-applications/$1 [R=301,L]
RewriteRule ^docs/next/self-managed/identity/user-guide/groups/creating-a-group/(.*)$ /docs/next/self-managed/identity/user-guide/groups/create-group/$1 [R=301,L]
RewriteRule ^docs/next/self-managed/identity/user-guide/groups/assigning-users-to-a-group/(.*)$ /docs/next/self-managed/identity/user-guide/groups/assign-users-roles-to-group/$1 [R=301,L]
RewriteRule ^docs/next/self-managed/identity/user-guide/groups/assigning-roles-to-a-group/(.*)$ /docs/next/self-managed/identity/user-guide/groups/assign-users-roles-to-group/$1 [R=301,L]

###### 8.2 release redirects ######
RewriteRule ^docs/self-managed/web-modeler/installation/(.*)$ /docs/self-managed/modeler/web-modeler/installation/$1 [R=301,L]
RewriteRule ^docs/self-managed/web-modeler/configuration/(.*)$ /docs/self-managed/modeler/web-modeler/configuration/$1 [R=301,L]
RewriteRule ^docs/apis-clients/operate-api/$ /docs/apis-tools/operate-api/overview/ [R=301,L]
RewriteRule ^optimize/components/userguide/processes/ /optimize/components/userguide/process-dashboards [R=301,L]

# apis/clients to apis/tools change
RewriteRule ^docs/apis-clients/working-with-apis-clients/?$ /docs/apis-tools/working-with-apis-tools/ [R=301,L]
RewriteRule ^docs/apis-clients(.*)$ /docs/apis-tools$1 [R=301,L]
RewriteRule ^optimize/apis-clients(.*)$ /optimize/apis-tools$1 [R=301,L]
RewriteRule ^docs/1.3/apis-clients(.*)$ /docs/1.3/apis-tools$1 [R=301,L]

# Identity Authorizations
RewriteRule ^docs/next/self-managed/identity/user-guide/groups/creating-authorizations-for-a-group/(.*)$ /docs/next/self-managed/identity/user-guide/authorizations/managing-resource-authorizations/ [R=301,L]

# Entra ID redirect to combined page
RewriteRule ^docs/next/self-managed/platform-deployment/helm-kubernetes/guides/connecting-to-entra-id/(.*)$ /docs/next/self-managed/platform-deployment/helm-kubernetes/guides/connect-to-an-oidc-provider/$1 [R=301,L]

# Consolidated redundant element-template pages
RewriteRule ^docs/components/modeler/desktop-modeler/element-templates/?$ /docs/components/modeler/desktop-modeler/element-templates/about-templates/ [R=301,L]

###### Prior to 8.2 release
RewriteRule ^docs/next/self-managed/web-modeler/installation/(.*)$ /docs/next/self-managed/modeler/web-modeler/installation/$1 [R=301,L]
RewriteRule ^docs/next/apis-clients/operate-api/$ /docs/next/apis-clients/operate-api/overview/ [R=301,L]

# For a short time, we had a change that renamed the page, but not the folder. This next rule covers that.
RewriteRule ^docs/next/apis-clients/working-with-apis-tools/?$ /docs/next/apis-tools/working-with-apis-tools/ [R=301,L]
# Added redirect rules for APIs/Clients to APIs/Tools
RewriteRule ^docs/next/apis-clients/working-with-apis-clients/?$ /docs/next/apis-tools/working-with-apis-tools/ [R=301,L]
RewriteRule ^docs/next/apis-clients(.*)$ /docs/next/apis-tools$1 [R=301,L]
RewriteRule ^optimize/next/apis-clients(.*)$ /optimize/next/apis-tools$1 [R=301,L]

RewriteRule ^docs/components/zeebe/open-source/exporters/(.*)$ /docs/self-managed/concepts/exporters/$1 [R=301,L]
RewriteRule ^docs/components/zeebe/open-source/exporters/$ /docs/self-managed/concepts/exporters [R=301,L]
RewriteRule ^docs/8.1/components/zeebe/open-source/exporters/(.*)$ /docs/8.1/self-managed/concepts/exporters/$1 [R=301,L]
RewriteRule ^docs/8.1/components/zeebe/open-source/exporters/$ /docs/8.1/self-managed/concepts/exporters [R=301,L]
RewriteRule ^docs/next/components/zeebe/open-source/exporters/(.*)$ /docs/next/self-managed/concepts/exporters/$1 [R=301,L]
RewriteRule ^docs/next/components/zeebe/open-source/exporters/$ /docs/next/self-managed/concepts/exporters [R=301,L]

# Redirects for Connectors move to top level
RewriteRule ^docs/next/components/integration-framework/introduction-to-connectors/(.*)$ /docs/next/components/connectors/introduction-to-connectors/$1 [R=301,L]
RewriteRule ^docs/next/components/integration-framework/introduction-to-connectors$ /docs/next/components/connectors/introduction-to-connectors [R=301,L]
RewriteRule ^docs/components/integration-framework/introduction-to-connectors/(.*)$ /docs/components/connectors/introduction-to-connectors/$1 [R=301,L]
RewriteRule ^docs/components/integration-framework/introduction-to-connectors$ /docs/components/connectors/introduction-to-connectors [R=301,L]
RewriteRule ^docs/components/integration-framework/(.*)$ /docs/components/$1 [R=301,L]
RewriteRule ^docs/components/integration-framework$ /docs/components/ [R=301,L]

# Added for v8.1
RewriteRule ^docs/self-managed/platform-deployment/helm-kubernetes/deployment/(.*)$ /docs/self-managed/platform-deployment/helm-kubernetes/deploy/$1 [R=301,L]
RewriteRule ^docs/self-managed/platform-deployment/ingress-setup/(.*)$ /docs/self-managed/platform-deployment/helm-kubernetes/guides/ingress-setup/$1 [R=301,L]
RewriteRule ^docs/self-managed/platform-deployment/local/(.*)$ /docs/self-managed/platform-deployment/helm-kubernetes/guides/local-kubernetes-cluster/$1 [R=301,L]
RewriteRule ^docs/self-managed/platform-deployment/openshift-helm/(.*)$ /docs/self-managed/platform-deployment/helm-kubernetes/platforms/redhat-openshift/$1 [R=301,L]
RewriteRule ^docs/self-managed/platform-deployment/openshift/(.*)$ /docs/self-managed/platform-deployment/helm-kubernetes/platforms/redhat-openshift/$1 [R=301,L]
RewriteRule ^docs/self-managed/platform-deployment/amazon-eks/(.*)$ /docs/self-managed/platform-deployment/helm-kubernetes/platforms/amazon-eks/$1 [R=301,L]
RewriteRule ^docs/self-managed/platform-deployment/kubernetes-helm/(.*)$ /docs/self-managed/platform-deployment/helm-kubernetes/deployment/$1 [R=301,L]
RewriteRule ^docs/self-managed/platform-deployment/kubernetes/(.*)$ /docs/self-managed/platform-deployment/helm-kubernetes/overview/$1 [R=301,L]
RewriteRule ^docs/self-managed/platform-deployment/platform-8-deployment/(.*)$ /docs/self-managed/platform-deployment/overview/$1 [R=301,L]
RewriteRule ^docs/self-managed/platform-deployment/known-limitations/(.*)$ /docs/self-managed/platform-deployment/troubleshooting/$1 [R=301,L]

# These redirects go from /next/ to /next/ and should be revisted when /next/ is removed from the sitemap
RewriteRule ^docs/next/self-managed/platform-deployment/helm-kubernetes/deployment/(.*)$ /docs/next/self-managed/platform-deployment/helm-kubernetes/deploy/$1 [R=301,L]
RewriteRule ^docs/next/self-managed/platform-deployment/ingress-setup/(.*)$ /docs/next/self-managed/platform-deployment/helm-kubernetes/guides/ingress-setup/$1 [R=301,L]
RewriteRule ^docs/next/self-managed/platform-deployment/local/(.*)$ /docs/next/self-managed/platform-deployment/helm-kubernetes/guides/local-kubernetes-cluster/$1 [R=301,L]
RewriteRule ^docs/next/self-managed/platform-deployment/openshift-helm/(.*)$ /docs/next/self-managed/platform-deployment/helm-kubernetes/platforms/redhat-openshift/$1 [R=301,L]
RewriteRule ^docs/next/self-managed/platform-deployment/openshift/(.*)$ /docs/next/self-managed/platform-deployment/helm-kubernetes/platforms/redhat-openshift/$1 [R=301,L]
RewriteRule ^docs/next/self-managed/platform-deployment/amazon-eks/(.*)$ /docs/next/self-managed/platform-deployment/helm-kubernetes/platforms/amazon-eks/$1 [R=301,L]
RewriteRule ^docs/next/self-managed/platform-deployment/kubernetes-helm/(.*)$ /docs/next/self-managed/platform-deployment/helm-kubernetes/deployment/$1 [R=301,L]
RewriteRule ^docs/next/self-managed/platform-deployment/kubernetes/(.*)$ /docs/next/self-managed/platform-deployment/helm-kubernetes/overview/$1 [R=301,L]

RewriteRule ^docs/guides/implementing-connectors/(.*)$ /docs/guides/configuring-out-of-the-box-connectors/$1 [R=301,L]
RewriteRule ^docs/guides/implementing-connectors$ /docs/guides/configuring-out-of-the-box-connectors/ [R=301,L]

RewriteRule ^docs/1.3/self-managed/overview/(.*)$ /docs/1.3/self-managed/about-self-managed/$1 [R=301,L]
RewriteRule ^docs/1.3/self-managed/overview$ /docs/1.3/self-managed/about-self-managed/ [R=301,L]
RewriteRule ^docs/self-managed/overview/(.*)$ /docs/self-managed/about-self-managed/$1 [R=301,L]
RewriteRule ^docs/self-managed/overview$ /docs/self-managed/about-self-managed/ [R=301,L]

RewriteRule ^docs/self-managed/zeebe-deployment/?$ /docs/self-managed/zeebe-deployment/zeebe-installation/ [R=301,L]
RewriteRule ^docs/self-managed/zeebe-deployment/operations/?$ /docs/self-managed/zeebe-deployment/operations/zeebe-in-production/ [R=301,L]

RewriteRule ^docs/self-managed/tasklist-deployment/configuration/(.*)$ /docs/self-managed/tasklist-deployment/tasklist-configuration/$1 [R=301,L]
RewriteRule ^docs/self-managed/tasklist-deployment/authentication/(.*)$ /docs/self-managed/tasklist-deployment/tasklist-authentication/$1 [R=301,L]

# More /next/ to /next/
RewriteRule ^docs/next/self-managed/platform-deployment/platform-8-deployment/?$ /docs/next/self-managed/platform-deployment/overview/ [R=301,L]
RewriteRule ^docs/next/self-managed/platform-deployment/?$ /docs/next/self-managed/platform-deployment/overview/ [R=301,L]

RewriteRule ^docs/self-managed/operate-deployment/configuration/(.*)$ /docs/self-managed/operate-deployment/operate-configuration/$1 [R=301,L]
RewriteRule ^docs/self-managed/operate-deployment/authentication/(.*)$ /docs/self-managed/operate-deployment/operate-authentication/$1 [R=301,L]

RewriteRule ^docs/self-managed/identity/troubleshooting/?$ /docs/self-managed/identity/troubleshooting/troubleshoot-identity/ [R=301,L]
RewriteRule ^docs/self-managed/identity/getting-started/?$ /docs/self-managed/identity/getting-started/install-identity/ [R=301,L]

RewriteRule ^docs/1.3/components/overview/(.*)$ /docs/1.3/components/components-overview/$1 [R=301,L]
RewriteRule ^docs/1.3/components/overview$ /docs/1.3/components/components-overview/ [R=301,L]
RewriteRule ^docs/components/overview/(.*)$ /docs/components/components-overview/$1 [R=301,L]
RewriteRule ^docs/components/overview$ /docs/components/components-overview/ [R=301,L]

RewriteRule ^docs/components/zeebe/technical-concepts/?$ /docs/components/zeebe/technical-concepts/technical-concepts-overview/ [R=301,L]

RewriteRule ^docs/components/tasklist/userguide/overview/(.*)$ /docs/components/tasklist/userguide/using-tasklist/$1 [R=301,L]
RewriteRule ^docs/components/tasklist/userguide/overview$ /docs/components/tasklist/userguide/using-tasklist/ [R=301,L]
RewriteRule ^docs/components/tasklist/introduction/(.*)$ /docs/components/tasklist/introduction-to-tasklist/$1 [R=301,L]
RewriteRule ^docs/components/tasklist/introduction$ /docs/components/tasklist/introduction-to-tasklist/ [R=301,L]

RewriteRule ^docs/components/operate/?$ /docs/components/operate/operate-introduction/ [R=301,L]

RewriteRule ^docs/components/modeler/web-modeler/connectors/available-connectors/?$ /docs/components/modeler/web-modeler/connectors/available-connectors/available-connectors-overview/ [R=301,L]
RewriteRule ^docs/components/modeler/web-modeler/connectors/?$ /docs/components/modeler/web-modeler/connectors/introduction-to-connectors/ [R=301,L]

RewriteRule ^docs/components/console/introduction/(.*)$ /docs/components/console/introduction-to-console/$1 [R=301,L]
RewriteRule ^docs/components/console/introduction$ /docs/components/console/introduction-to-console/ [R=301,L]
RewriteRule ^docs/components/console/troubleshooting/(.*)$ /docs/components/console/console-troubleshooting/$1 [R=301,L]
RewriteRule ^docs/components/console/troubleshooting$ /docs/components/console/console-troubleshooting/ [R=301,L]

RewriteRule ^docs/components/best-practices/overview/(.*)$ /docs/components/best-practices/best-practices-overview/$1 [R=301,L]
RewriteRule ^docs/components/best-practices/overview$ /docs/components/best-practices/best-practices-overview [R=301,L]

RewriteRule ^docs/1.3/apis-clients/overview/(.*)$ /docs/1.3/apis-tools/working-with-apis-tools/$1 [R=301,L]
RewriteRule ^docs/1.3/apis-clients/overview$ /docs/1.3/apis-tools/working-with-apis-tools [R=301,L]
RewriteRule ^docs/apis-clients/overview/(.*)$ /docs/apis-tools/working-with-apis-tools/$1 [R=301,L]
RewriteRule ^docs/apis-clients/overview$ /docs/apis-tools/working-with-apis-tools [R=301,L]
RewriteRule ^docs/apis-clients/tasklist-api/tutorial/(.*)$ /docs/apis-clients/tasklist-api/tasklist-api-tutorial/$1 [R=301,L]
RewriteRule ^docs/apis-clients/tasklist-api/overview/(.*)$ /docs/apis-clients/tasklist-api/tasklist-api-overview/$1 [R=301,L]
RewriteRule ^docs/apis-clients/optimize-api/authorization/(.*)$ /optimize/apis-clients/optimize-api/optimize-api-authorization/$1 [R=301,L]
RewriteRule ^docs/apis-clients/go-client/get-started/(.*)$ /docs/apis-clients/go-client/go-get-started/$1 [R=301,L]
RewriteRule ^docs/apis-clients/cli-client/get-started/(.*)$ /docs/apis-clients/cli-client/cli-get-started/$1 [R=301,L]

RewriteRule ^docs/self-managed/optimize-deployment/rest-api/(.*)$ /optimize/apis-clients/optimize-api/$1 [R=301,L]
RewriteRule ^docs/self-managed/optimize-deployment/optimize-explained/(.*)$ /optimize/self-managed/optimize-deployment/advanced-features/$1 [R=301,L]

RewriteRule ^docs/self-managed/zeebe-gateway-deployment/index(.*)$ /docs/self-managed/zeebe-gateway-deployment/zeebe-gateway [R=301,L]
RewriteRule ^docs/self-managed/zeebe-gateway-deployment/index$ /docs/self-managed/zeebe-gateway-deployment/zeebe-gateway [R=301,L]

RewriteRule ^docs/guides/operating-the-camunda-cloud-stack-on-kubernetes(.*)$ /docs/self-managed/platform-deployment/kubernetes [R=301,L]
RewriteRule ^docs/guides/operating-the-camunda-cloud-stack-on-kubernetes$ /docs/self-managed/platform-deployment/kubernetes [R=301,L]

RewriteRule ^docs/guides/getting-started-orchestrate-microservices(.*)$ /docs/guides/orchestrate-microservices [R=301,L]
RewriteRule ^docs/guides/getting-started-orchestrate-microservices$ /docs/guides/orchestrate-microservices [R=301,L]

RewriteRule ^docs/guides/getting-started-orchestrate-human-tasks(.*)$ /docs/guides/orchestrate-human-tasks [R=301,L]
RewriteRule ^docs/guides/getting-started-orchestrate-human-tasks$ /docs/guides/orchestrate-human-tasks [R=301,L]

RewriteRule ^docs/guides/getting-started/monitor-your-process-in-operate(.*)$ /docs/self-managed/operate-deployment/install-and-start [R=301,L]
RewriteRule ^docs/guides/getting-started/monitor-your-process-in-operate$ /docs/self-managed/operate-deployment/install-and-start [R=301,L]

RewriteRule ^docs/guides/getting-started/involve-humans(.*)$ /docs/guides/orchestrate-human-tasks [R=301,L]
RewriteRule ^docs/guides/getting-started/involve-humans$ /docs/guides/orchestrate-human-tasks [R=301,L]

RewriteRule ^docs/guides/getting-started/implement-decision-gateway(.*)$ /docs/guides/automating-a-process-using-bpmn [R=301,L]
RewriteRule ^docs/guides/getting-started/implement-decision-gateway$ /docs/guides/automating-a-process-using-bpmn [R=301,L]

RewriteRule ^docs/guides/getting-started/implement-service-task(.*)$ /docs/guides/automating-a-process-using-bpmn [R=301,L]
RewriteRule ^docs/guides/getting-started/implement-service-task$ /docs/guides/automating-a-process-using-bpmn [R=301,L]

RewriteRule ^docs/guides/getting-started/deploy-your-process-and-start-process-instance(.*)$ /docs/guides/automating-a-process-using-bpmn [R=301,L]
RewriteRule ^docs/guides/getting-started/deploy-your-process-and-start-process-instance$ /docs/guides/automating-a-process-using-bpmn [R=301,L]

RewriteRule ^docs/guides/getting-started/connect-to-your-cluster(.*)$ /docs/guides/create-cluster [R=301,L]
RewriteRule ^docs/guides/getting-started/connect-to-your-cluster$ /docs/guides/create-cluster [R=301,L]

RewriteRule ^docs/guides/getting-started/create-your-cluster(.*)$ /docs/guides/create-cluster [R=301,L]
RewriteRule ^docs/guides/getting-started/create-your-cluster$ /docs/guides/create-cluster [R=301,L]

RewriteRule ^docs/guides/getting-started/create-camunda-cloud-account(.*)$ /docs/guides/create-account [R=301,L]
RewriteRule ^docs/guides/getting-started/create-camunda-cloud-account$ /docs/guides/create-account [R=301,L]

RewriteRule ^docs/guides/getting-started/(.*)$ /docs/guides/$1 [R=301,L]
RewriteRule ^docs/guides/getting-started$ /docs/guides/ [R=301,L]

RewriteRule ^docs/components/guides/getting-started/(.*)$ /docs/components/guides/$1 [R=301,L]
RewriteRule ^docs/components/guides/getting-started$ /docs/components/guides/ [R=301,L]

RewriteRule ^docs/components/zeebe/technical-concepts/internal-processing/#handling-back-pressure(.*)$ /docs/components/zeebe/technical-concepts/internal-processing/#handling-backpressure [R=301,L]
RewriteRule ^docs/components/zeebe/technical-concepts/internal-processing/#handling-back-pressure$ /docs/components/zeebe/technical-concepts/internal-processing/#handling-backpressure [R=301,L]

RewriteRule ^docs/self-managed/optimize-deployment/setup/secure-elasticsearch(.*)$ /optimize/self-managed/optimize-deployment/configuration/security-instructions [R=301,L]
RewriteRule ^docs/self-managed/optimize-deployment/setup/secure-elasticsearch$ /optimize/self-managed/optimize-deployment/configuration/security-instructions [R=301,L]

RewriteRule ^docs/self-managed/optimize-deployment/setup/configuration(.*)$ /optimize/self-managed/optimize-deployment/configuration/system-configuration [R=301,L]
RewriteRule ^docs/self-managed/optimize-deployment/setup/configuration$ /optimize/self-managed/optimize-deployment/configuration/system-configuration [R=301,L]

RewriteRule ^docs/self-managed/optimize-deployment/setup/installation(.*)$ /optimize/self-managed/optimize-deployment/configuration/system-configuration [R=301,L]
RewriteRule ^docs/self-managed/optimize-deployment/setup/installation$ /optimize/self-managed/optimize-deployment/configuration/system-configuration [R=301,L]

RewriteRule ^docs/self-managed/optimize-deployment/setup/?$ /docs/self-managed/platform-deployment [R=301,L]

RewriteRule ^docs/self-managed/optimize-deployment/setup/(.*)$ /optimize/self-managed/optimize-deployment/configuration/$1 [R=301,L]
RewriteRule ^docs/self-managed/optimize-deployment/setup/$ /optimize/self-managed/optimize-deployment/configuration/ [R=301,L]

RewriteRule ^docs/reference/feel/builtin-functions/(.*)$ /docs/components/modeler/feel/builtin-functions/feel-built-in-functions-introduction/ [R=301,L]
RewriteRule ^docs/reference/feel/language-guide/(.*)$ /docs/components/modeler/feel/what-is-feel/ [R=301,L]
RewriteRule ^docs/reference/feel/(.*)$ /docs/components/modeler/feel/what-is-feel/ [R=301,L]
RewriteRule ^docs/reference/feel$ /docs/components/modeler/feel/what-is-feel/ [R=301,L]

RewriteRule ^docs/apis-clients/cloud-console-api-reference(.*)$ /docs/apis-clients/console-api-reference [R=301,L]
RewriteRule ^docs/apis-clients/cloud-console-api-reference$ /docs/apis-clients/console-api-reference [R=301,L]

RewriteRule ^docs/components/cloud-console/(.*)$ /docs/components/console/$1 [R=301,L]
RewriteRule ^docs/components/cloud-console/$ /docs/components/console/ [R=301,L]

RewriteRule ^docs/components/concepts/what-is-camunda-cloud(.*)$ /docs/components/concepts/what-is-camunda-platform-8$1 [R=301,L]
RewriteRule ^docs/components/concepts/what-is-camunda-cloud$ /docs/components/concepts/what-is-camunda-platform-8 [R=301,L]

RewriteRule ^docs/self-managed/zeebe-deployment/kubernetes/helm/?$ /docs/self-managed/zeebe-deployment/kubernetes/#helm [NE,R=301,L]
RewriteRule ^docs/self-managed/zeebe-deployment/kubernetes/helm/prerequisites/?$ /docs/self-managed/zeebe-deployment/kubernetes/#prerequisites [NE,R=301,L]
RewriteRule ^docs/self-managed/zeebe-deployment/kubernetes/helm/accessing-operate/?$ /docs/self-managed/zeebe-deployment/kubernetes/helm/accessing-operate-tasklist/ [R=301,L]
RewriteRule ^docs/self-managed/zeebe-deployment/kubernetes/.*$ /docs/self-managed/platform-deployment/kubernetes/ [NE,R=301,L]
RewriteRule ^docs/self-managed/zeebe-deployment/docker/.*$ /docs/self-managed/platform-deployment/docker/ [NE,R=301,L]
RewriteRule ^docs/self-managed/zeebe-deployment/local/.*$ /docs/self-managed/platform-deployment/local/ [NE,R=301,L]
RewriteRule ^docs/components/tasklist/faq/(.*)$ /docs/guides/utilizing-forms$1 [R=301,L]
RewriteRule ^docs/components/tasklist/faq/$ /docs/guides/utilizing-forms [R=301,L]

RewriteRule ^docs/components/modeler/cloud-modeler/model-overview(.*)$ /docs/components/modeler/web-modeler/new-web-modeler$1 [R=301,L]
RewriteRule ^docs/components/modeler/cloud-modeler/model-overview$ /docs/components/modeler/web-modeler/new-web-modeler [R=301,L]

RewriteRule ^docs/components/modeler/camunda-modeler(.*)$ /docs/components/modeler/desktop-modeler$1 [R=301,L]
RewriteRule ^docs/components/modeler/camunda-modeler$ /docs/components/modeler/desktop-modeler [R=301,L]

RewriteRule ^docs/components/modeler/cloud-modeler(.*)$ /docs/components/modeler/web-modeler$1 [R=301,L]
RewriteRule ^docs/components/modeler/cloud-modeler$ /docs/components/modeler/web-modeler [R=301,L]

RewriteRule ^docs/guides/integrating-optimize(.*)$ /docs/guides/improve-processes-with-optimize$1 [R=301,L]
RewriteRule ^docs/guides/integrating-optimize$ /docs/guides/improve-processes-with-optimize [R=301,L]

RewriteRule ^docs/guides/migrating-from-Camunda-Platform(.*)$ /docs/guides/migrating-from-camunda-platform-7$1 [R=301,L]
RewriteRule ^docs/guides/migrating-from-Camunda-Platform$ /docs/guides/migrating-from-camunda-platform-7 [R=301,L]

RewriteRule ^docs/components/zeebe/third-party-libraries/zeebe-dependencies/$ docs/reference/dependencies/ [R=301,L]
RewriteRule ^docs/components/operate/third-party-libraries/(.*)$  docs/reference/dependencies/ [R=301,L]
RewriteRule ^docs/components/tasklist/third-party-libraries/(.*)$  docs/reference/dependencies/ [R=301,L]
RewriteRule ^docs/self-managed/iam/third-party-libraries/(.*)$  docs/reference/dependencies/ [R=301,L]

RewriteRule ^docs/reference/bpmn-processes(.*)$ /docs/components/modeler/bpmn$1 [R=301,L]
RewriteRule ^docs/reference/bpmn-processes$ /docs/components/modeler/bpmn [R=301,L]

RewriteRule ^docs/components/IAM(.*)$ /docs/self-managed/IAM/$1 [R=301,L]
RewriteRule ^docs/components/IAM$ /docs/self-managed/IAM/ [R=301,L]

RewriteRule ^docs/components/operate/deployment-guide/(.*)$ /docs/self-managed/operate-deployment/$1 [R=301,L]
RewriteRule ^docs/components/operate/deployment-guide$ /docs/self-managed/operate-deployment/ [R=301,L]

RewriteRule ^docs/components/tasklist/deployment-guide/(.*)$ /docs/self-managed/tasklist-deployment/$1 [R=301,L]
RewriteRule ^docs/components/tasklist/deployment-guide$ /docs/self-managed/tasklist-deployment/ [R=301,L]
RewriteRule ^docs/components/tasklist/userguide/api/(.*)$ /docs/apis-clients/tasklist-api/$1 [R=301,L]
RewriteRule ^docs/components/tasklist/userguide/user-interface/(.*)$ /docs/components/tasklist/userguide/$1 [R=301,L]

RewriteRule ^docs/components/zeebe/deployment-guide/(.*)$ /docs/self-managed/zeebe-deployment/$1 [R=301,L]
RewriteRule ^docs/components/zeebe/deployment-guide$ /docs/self-managed/zeebe-deployment/ [R=301,L]
RewriteRule ^docs/reference/tasklist-api(.*)$ /docs/apis-clients/tasklist-api$1 [R=301,L]
RewriteRule ^docs/reference/tasklist-api$ /docs/apis-clients/tasklist-api [R=301,L]

RewriteRule ^docs/reference/public-api/$ /docs/apis-clients/public-api [R=301,L]
RewriteRule ^docs/reference/grpc/$ /docs/apis-clients/grpc [R=301,L]

RewriteRule ^docs/components/clients/other-clients(.*)$ /docs/apis-clients/community-clients$1 [R=301,L]
RewriteRule ^docs/components/clients/other-clients$ /docs/apis-clients/community-clients [R=301,L]

RewriteRule ^docs/reference/cloud-console-api-reference(.*)$ /docs/apis-clients/cloud-console-api-reference [R=301,L]
RewriteRule ^docs/reference/cloud-console-api-reference$ /docs/apis-clients/cloud-console-api-reference [R=301,L]

RewriteRule ^docs/reference/cloud-console-api-clients(.*)$ /docs/apis-clients/cloud-console-api-reference [R=301,L]
RewriteRule ^docs/reference/cloud-console-api-clients$ /docs/apis-clients/cloud-console-api-reference [R=301,L]

RewriteRule ^docs/components/clients/overview(.*)$ /docs/apis-clients/cloud-console-api-reference [R=301,L]
RewriteRule ^docs/components/clients/overview$ /docs/apis-clients/cloud-console-api-reference [R=301,L]

RewriteRule ^docs/components/cloud-console/manage-organization/manage-cloud-management-api-clients(.*)$ /docs/apis-clients/cloud-console-api-reference [R=301,L]
RewriteRule ^docs/components/cloud-console/manage-organization/manage-cloud-management-api-clients$ /docs/apis-clients/cloud-console-api-reference [R=301,L]

RewriteRule ^docs/components/clients/(.*)$ /docs/apis-clients/$1 [R=301,L]
RewriteRule ^docs/components/clients$ /docs/apis-clients/ [R=301,L]

RewriteRule ^docs/product-manuals/clients/java-client/get-started(.*)$ /docs/apis-clients/java-client/index [R=301,L]
RewriteRule ^docs/product-manuals/clients/java-client/get-started$ /docs/apis-clients/java-client/index [R=301,L]

RewriteRule ^docs/product-manuals/iam/overview$ /docs/components/iam/what-is-iam [R=301,L]
RewriteRule ^docs/components/iam/overview$ /docs/components/iam/what-is-iam [R=301,L]

RewriteRule ^docs/product-manuals/(.*)$ /docs/components/$1 [R=301,L]
RewriteRule ^docs/product-manuals$ /docs/components/ [R=301,L]

RewriteRule ^docs/self-managed/zeebe-deployment/security/authorization/?$ /docs/self-managed/zeebe-deployment/security/client-authorization/ [R=301,L]
RewriteRule ^docs/self-managed/zeebe-deployment/security/authentication/?$ /docs/self-managed/zeebe-deployment/security/secure-client-communication/ [R=301,L]

RewriteRule ^docs/(next/)?components/modeler/web-modeler/connectors/available-connectors/available-connectors-overview(.*)$ /docs/components/connectors/out-of-the-box-connectors/available-connectors-overview$2 [R=301,L]
RewriteRule ^docs/(next/)?components/modeler/web-modeler/connectors/available-connectors/available-connectors-overview$ /docs/components/connectors/out-of-the-box-connectors/available-connectors-overview [R=301,L]

RewriteRule ^docs/(next/)?components/modeler/web-modeler/connectors/available-connectors/graphql(.*)$ /docs/components/connectors/out-of-the-box-connectors/graphql$2 [R=301,L]
RewriteRule ^docs/(next/)?components/modeler/web-modeler/connectors/available-connectors/graphql$ /docs/components/connectors/out-of-the-box-connectors/graphql [R=301,L]

RewriteRule ^docs/(next/)?components/modeler/web-modeler/connectors/available-connectors/rest(.*)$ /docs/components/connectors/out-of-the-box-connectors/rest$2 [R=301,L]
RewriteRule ^docs/(next/)?components/modeler/web-modeler/connectors/available-connectors/rest$ /docs/components/connectors/out-of-the-box-connectors/rest [R=301,L]

RewriteRule ^docs/(next/)?components/modeler/web-modeler/connectors/available-connectors/sendgrid(.*)$ /docs/components/connectors/out-of-the-box-connectors/sendgrid$2 [R=301,L]
RewriteRule ^docs/(next/)?components/modeler/web-modeler/connectors/available-connectors/sendgrid$ /docs/components/connectors/out-of-the-box-connectors/sendgrid [R=301,L]

RewriteRule ^docs/(next/)?components/modeler/web-modeler/connectors/available-connectors/slack(.*)$ /docs/components/connectors/out-of-the-box-connectors/slack$2 [R=301,L]
RewriteRule ^docs/(next/)?components/modeler/web-modeler/connectors/available-connectors/slack$ /docs/components/connectors/out-of-the-box-connectors/slack [R=301,L]

RewriteRule ^docs/(next/)?components/modeler/web-modeler/connectors/introduction-to-connectors(.*)$ /docs/components/connectors/introduction-to-connectors$2 [R=301,L]
RewriteRule ^docs/(next/)?components/modeler/web-modeler/connectors/introduction-to-connectors$ /docs/components/connectors/introduction-to-connectors [R=301,L]

RewriteRule ^docs/(next/)?components/modeler/web-modeler/connectors/use-connectors(.*)$ /docs/components/connectors/use-connectors$2 [R=301,L]
RewriteRule ^docs/(next/)?components/modeler/web-modeler/connectors/use-connectors$ /docs/components/connectors/use-connectors [R=301,L]

RewriteRule ^docs/self-managed/iam/what-is-iam/(.*)$  /docs/self-managed/identity/what-is-identity/ [R=301,L]
RewriteRule ^docs/self-managed/iam/deployment/configuration-variables/(.*)$  /docs/self-managed/identity/deployment/configuration-variables/ [R=301,L]
RewriteRule ^docs/self-managed/iam/deployment/making-iam-production-ready/(.*)$  /docs/self-managed/identity/user-guide/making-identity-production-ready/ [R=301,L]
RewriteRule ^docs/self-managed/iam/getting-started(.*)$ /docs/self-managed/identity/getting-started/ [R=301,L]

# Static resource page for the camunda desktop modeler
RewriteRule ^docs/components/modeler/desktop-modeler/?$ /docs/components/modeler/desktop-modeler/install-the-modeler/ [R=301,L]

# workaround for 404 with trailing slashes https://github.com/camunda-cloud/camunda-cloud-documentation/issues/403
RewriteRule ^(.*\.(yaml|bpmn|xml|png|jpeg|jpg|yml|svg|graphqls|diff))/$ /$1 [R=301,L]

# Replaced deprecated java-client/testing page with java-client/zeebe-process-test page
RewriteRule ^docs/apis-clients/java-client/testing(.*)$ /docs/apis-clients/java-client/zeebe-process-test$1 [R=301,L]
RewriteRule ^docs/apis-clients/java-client/testing$ /docs/apis-clients/java-client/zeebe-process-test [R=301,L]

# rules required after update to docusaurs 2.0.0-beta.15 see https://github.com/camunda-cloud/camunda-cloud-documentation/pull/531
## index pages are not served as /index/ anymore but /index.html
RewriteRule ^(.*)/index/$ /$1 [R=301,L]
## tags do not exist anymore, redirect to main page
RewriteRule ^(.*)/tags/$ / [R=301,L]
## duplicate sections at the end where removed
RewriteRule ^(.*)/(.+)/\2/?$ /$1/$2 [R=301,L]
RewriteRule ^(.*/components/modeler/dmn/)camunda-modeler-dmn/$ /$1 [R=301,L]
RewriteRule ^(.*/components/modeler/camunda-modeler/element-templates/)camunda-modeler-element-templates/$ /$1 [R=301,L]
RewriteRule ^(.*/components/modeler/bpmn/)modeler-bpmn/$ /$1 [R=301,L]

# disabled blog, redirect to index page
RewriteRule ^blog/ / [R=301,L]

# redirect best-practices overview page
RewriteRule ^docs/components/best-practices/?$ /docs/components/best-practices/overview/ [R=301,L]

# Optimize docs get their own section of the site
## The initial implementation of optimize section incorrectly placed all components docs in the root of optimize/. 
##   These rules redirect from there into a components/ folder.
RewriteRule ^optimize/next/what-is-optimize(\/?)$ /optimize/next/components/what-is-optimize/ [R=301,L]
RewriteRule ^optimize/next/userguide/(.*)$ /optimize/next/components/userguide/$1 [R=301,L]
RewriteRule ^optimize/what-is-optimize(\/?)$ /optimize/components/what-is-optimize/ [R=301,L]
RewriteRule ^optimize/userguide/(.*)$ /optimize/components/userguide/$1 [R=301,L]
RewriteRule ^optimize/next/components/userguide/processes/ /optimize/next/components/userguide/process-dashboards [R=301,L]
RewriteRule ^optimize/components/userguide/instant-preview-dashboards/ /optimize/components/userguide/instant-process-dashboards/ [R=301,L]
RewriteRule ^optimize/next/components/userguide/instant-preview-dashboards/ /optimize/next/components/userguide/instant-process-dashboards/ [R=301,L]
RewriteRule ^optimize/next/components/userguide/process-analysis/outlier-analysis/ /optimize/next/components/userguide/process-analysis/task-analysis/ [R=301,L]

## these rules previously existed, but are now updated to point at the /optimize section:
RewriteRule ^docs/components/optimize/userguide/combined-reports/(.*)$ /optimize/userguide/combined-process-reports/$1 [R=301,L]
RewriteRule ^docs/components/optimize/userguide/process-analysis/overview/(.*)$ /optimize/userguide/process-analysis/process-analysis-overview/$1 [R=301,L]
RewriteRule ^docs/components/optimize/userguide/process-analysis/overview$ /optimize/userguide/process-analysis/process-analysis-overview/ [R=301,L]
RewriteRule ^docs/components/optimize/userguide/decision-analysis/overview/(.*)$ /optimize/userguide/decision-analysis/decision-analysis-overview/$1 [R=301,L]
RewriteRule ^docs/components/optimize/userguide/decision-analysis/overview$ /optimize/userguide/decision-analysis/decision-analysis-overview/ [R=301,L]
RewriteRule ^docs/components/optimize/userguide/additional-features/filters/(.*)$ /optimize/userguide/process-analysis/filters/$1 [R=301,L]

## these rules cover all pages that were moved from /docs/components/optimize into /optimize/components:
RewriteRule ^docs/components/optimize/what-is-optimize(\/?)$ /optimize/components/what-is-optimize/ [R=301,L]
RewriteRule ^docs/components/optimize/userguide/(.*)$ /optimize/components/userguide/$1 [R=301,L]

## optimize API and self-managed documentation were moved to the optimize instance:
RewriteRule ^docs/next/self-managed/optimize-deployment/(.*)$ /optimize/next/self-managed/optimize-deployment/$1 [R=301,L]
RewriteRule ^docs/self-managed/optimize-deployment/(.*)$ /optimize/self-managed/optimize-deployment/$1 [R=301,L]
RewriteRule ^docs/next/apis-clients/optimize-api/(.*)$ /optimize/next/apis-clients/optimize-api/$1 [R=301,L]
RewriteRule ^docs/apis-clients/optimize-api/(.*)$ /optimize/apis-clients/optimize-api/$1 [R=301,L]

## optimize extraction for version 3.7.0:
RewriteRule ^docs/1.3/components/optimize/what-is-optimize(\/?)$ /optimize/3.7.0/components/what-is-optimize/ [R=301,L]
RewriteRule ^docs/1.3/components/optimize/userguide/(.*)$ /optimize/3.7.0/components/userguide/$1 [R=301,L]
RewriteRule ^docs/1.3/self-managed/optimize-deployment/(.*)$ /optimize/3.7.0/self-managed/optimize-deployment/$1 [R=301,L]

## Archived versions. Note that the URL is adjusted to staging in the publish-stage workflow.
RewriteRule ^docs/0.25/(.*)$ https://unsupported.docs.camunda.io/0.25/docs/$1 [R=301,L]
RewriteRule ^docs/0.26/(.*)$ https://unsupported.docs.camunda.io/0.26/docs/$1 [R=301,L]
RewriteRule ^docs/1.0/(.*)$ https://unsupported.docs.camunda.io/1.0/docs/$1 [R=301,L]
RewriteRule ^docs/1.1/(.*)$ https://unsupported.docs.camunda.io/1.1/docs/$1 [R=301,L]
RewriteRule ^docs/1.2/(.*)$ https://unsupported.docs.camunda.io/1.2/docs/$1 [R=301,L]
RewriteRule ^docs/8.0/(.*)$ https://unsupported.docs.camunda.io/8.0/docs/$1 [R=301,L]
RewriteRule ^optimize/3.8.0/(.*)$ https://unsupported.docs.camunda.io/8.0/optimize/$1 [R=301,L]

# Add yaml mime type
AddType text/vnd.yaml   yaml
# Add bpmn mime type
AddType text/xml        bpmn
# Add graphql scheme mime type
AddType text/plain      graphqls
# Add diff mime type
AddType text/plain      diff
